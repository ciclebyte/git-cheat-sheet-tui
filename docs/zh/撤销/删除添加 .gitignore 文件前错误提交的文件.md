# 删除添加 .gitignore 文件前错误提交的文件

## 一、命令介绍

`git rm -r --cached .` 命令用于从 Git 仓库的索引中移除所有已跟踪的文件，但不会删除工作目录中的实际文件。这在添加 `.gitignore` 文件后，需要删除之前错误提交的文件时非常有用。

## 二、命令使用

### 命令格式

```bash
git rm -r --cached .
```

### 命令示例

```bash
git rm -r --cached .
```

在上述示例中，`.` 表示当前目录及其所有子目录中的文件都会被移除索引。

## 三、注意事项

### 1. 不会删除工作目录文件

使用 `--cached` 选项后，Git 只会从索引中移除文件，而不会删除工作目录中的实际文件。这确保了你的工作文件不会意外被删除。

### 2. 重新添加文件到索引

执行该命令后，你需要重新添加文件到索引。通常的做法是执行 `git add .` 命令，以便根据 `.gitignore` 文件的规则重新添加文件。

### 3. 确保 `.gitignore` 文件已配置

在执行该命令之前，确保 `.gitignore` 文件已经正确配置，以避免再次错误提交不需要的文件。

### 4. 谨慎使用

该命令会影响所有已跟踪的文件，因此在执行前务必确认你是否确实需要移除索引中的所有文件。